<!DOCTYPE html>
<html>
<head>
	<title>Tax Assessment</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<%= javascript_include_tag "http://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular-resource.min.js" %>
	<%= javascript_include_tag 'tax_assessment' %>
	<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
	<div ng-app="taxAssessmentApp">
		<div ng-controller="taxAssessmentController">
			<table call-padding="10px" cell-spacing="0">
				<form name="TaxAssessmentForm" ng-submit="createTaxAssessment()">
					<tr>
						<td><label for="Itr_type">Itr-type</label></td>
						<td>
							<select ng-model = "Itr_type" id="Itr_type">
								<option ng-repeat="x in Itr_types" value = "{{x}}">{{x}}</option>
							</select>
						</td>
					</tr>
					<tr>
						<td><label for="assessment_year">Assessment Year</label></td>
						<td>
							<select ng-model = "assessment_year" id = "assessment_year">
								<option ng-repeat="x in assessmentYears" value = "{{x.value}}">{{x.text}}</option>
							</select>
						</td>
					</tr>
					<tr>
						<td><label for="ack_no">Acknowledgment Number</label></td>
						<td><input type = "text" maxlength="15" minlength="15" ng-model="ack_no" onkeypress="return ackNoTypeCheck(event)"></td>
					</tr>
					<tr>
						<td><label for="profit">Profit</label></td>
						<td><input class="currency" type="number" id="profit" step="0.01" ng-model="profit"></td>
					</tr>
					<tr>
						<td><label for="revenue">Revenue</label></td>
						<td><input class="currency" type="number" step="0.01" id="revenue" ng-model="revenue"></td>
					</tr>
					<tr>
						<td colspan = "2"><input type="submit" value="Create Record"></td>
					</tr>
				</form>
			</table>
			<span style="color: red">{{errorMessage}}</span>
		</div>
	</div>
	<script>
		parseFloat(Math.round($("input.currency").val())/100).toFixed(2)
	</script>
</body>
</html>